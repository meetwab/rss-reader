# RSS é˜…è¯»å™¨ç•Œé¢ç¾åŒ–ä¼˜åŒ–æŠ¥å‘Š

## é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®å¯¹åŸæœ‰çš„ RSS è®¢é˜…ç®¡ç†è„šæœ¬è¿›è¡Œäº†å…¨é¢çš„ç•Œé¢ç¾åŒ–å’Œç”¨æˆ·ä½“éªŒä¼˜åŒ–ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹åº“æ¥ä¼˜åŒ–å¤„ç† RSS åŸå§‹æ–‡ç« çš„æ ¼å¼ï¼Œä½¿å…¶å±•ç¤ºæ›´ç¾è§‚ã€‚

## ğŸ¯ ä¼˜åŒ–ç›®æ ‡

1. **ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ä¼˜åŒ– RSS æ–‡ç« æ ¼å¼å±•ç¤º**
2. **æå‡ç”¨æˆ·ç•Œé¢çš„ç¾è§‚æ€§å’Œå¯è¯»æ€§**
3. **æ”¹å–„ç”¨æˆ·äº¤äº’ä½“éªŒ**
4. **å¢å¼º HTML å†…å®¹æ¸…ç†èƒ½åŠ›**

## ğŸ“¦ ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“

### 1. Rich (>= 13.0.0)
- **ç”¨é€”**: åˆ›å»ºç¾è§‚çš„ç»ˆç«¯ç•Œé¢
- **åŠŸèƒ½**: 
  - å½©è‰²é¢æ¿å’Œè¾¹æ¡†
  - è¡¨æ ¼åŒ–æ•°æ®å±•ç¤º
  - å¯Œæ–‡æœ¬æ ¼å¼
  - çŠ¶æ€æŒ‡ç¤ºå™¨

### 2. BeautifulSoup4 (>= 4.11.0)
- **ç”¨é€”**: ä¼˜åŒ– HTML å†…å®¹æ¸…ç†
- **åŠŸèƒ½**:
  - æ™ºèƒ½è§£æ HTML æ ‡ç­¾
  - ç§»é™¤ script å’Œ style æ ‡ç­¾
  - ä¿ç•™çº¯æ–‡æœ¬å†…å®¹
  - å®¹é”™æ€§å¼º

### 3. lxml (>= 4.9.0)
- **ç”¨é€”**: BeautifulSoup çš„è§£æå™¨åç«¯
- **åŠŸèƒ½**:
  - å¿«é€Ÿ HTML/XML è§£æ
  - æ›´å¥½çš„æ€§èƒ½

### 4. textwrap
- **ç”¨é€”**: æ–‡æœ¬æ¢è¡Œå¤„ç†
- **åŠŸèƒ½**:
  - æ™ºèƒ½æ–‡æœ¬æ¢è¡Œ
  - ä¿æŒå¯è¯»æ€§

## âœ¨ ä¸»è¦ä¼˜åŒ–æˆæœ

### 1. ä¸»èœå•ç¾åŒ–
**ä¼˜åŒ–å‰:**
```
--- RSS è®¢é˜…ç®¡ç† ---
1. æ·»åŠ æ–°çš„è®¢é˜…
2. æŸ¥çœ‹æ‰€æœ‰è®¢é˜…
0. é€€å‡º
```

**ä¼˜åŒ–å:**
```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ä¸»èœå• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                  â”‚
â”‚  ğŸ“° RSS è®¢é˜…ç®¡ç†                                                 â”‚
â”‚                                                                  â”‚
â”‚  1. æ·»åŠ æ–°çš„è®¢é˜…                                                 â”‚
â”‚  2. æŸ¥çœ‹æ‰€æœ‰è®¢é˜…                                                 â”‚
â”‚  0. é€€å‡º                                                         â”‚
â”‚                                                                  â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

### 2. è®¢é˜…åˆ—è¡¨è¡¨æ ¼åŒ–å±•ç¤º
**ä¼˜åŒ–å‰:**
```
--- æ‚¨å·²ä¿å­˜çš„è®¢é˜… ---
1. åç§°ï¼šé˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—
   é“¾æ¥ï¼šhttp://feeds.feedburner.com/ruanyifeng
2. åç§°ï¼šV2EX
   é“¾æ¥ï¼šhttps://www.v2ex.com/index.xml
```

**ä¼˜åŒ–å:**
```
                         ğŸ“š æ‚¨å·²ä¿å­˜çš„è®¢é˜…                          
â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ  åºå·  â”ƒ è®¢é˜…åç§°             â”ƒ RSS é“¾æ¥                         â”ƒ
â”¡â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚   1    â”‚ é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—     â”‚ http://feeds.feedburner.com/ruan â”‚
â”‚        â”‚                      â”‚ yifeng                           â”‚
â”‚   2    â”‚ V2EX                 â”‚ https://www.v2ex.com/index.xml   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. æ–‡ç« å¡ç‰‡å¼å±•ç¤º
**ä¼˜åŒ–å‰:**
```
--- æœ€æ–°æ–‡ç« åˆ—è¡¨ ---
1. æ ‡é¢˜ï¼šç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠï¼ˆç¬¬ 361 æœŸï¼‰
   é“¾æ¥ï¼šhttp://www.ruanyifeng.com/blog/2025/08/weekly-issue-361.html
   æ‘˜è¦ï¼šè¿™é‡Œè®°å½•æ¯å‘¨å€¼å¾—åˆ†äº«çš„ç§‘æŠ€å†…å®¹...
```

**ä¼˜åŒ–å:**
```
â•­â”€ 1. ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠï¼ˆç¬¬ 361 æœŸï¼‰ï¼šæš—ç½‘ Tor å®‰å…¨å—ï¼Ÿ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸ”— é“¾æ¥:                                                         â”‚
â”‚ http://www.ruanyifeng.com/blog/2025/08/weekly-issue-361.html     â”‚
â”‚                                                                  â”‚
â”‚ ğŸ“„ æ‘˜è¦:                                                         â”‚
â”‚ è¿™é‡Œè®°å½•æ¯å‘¨å€¼å¾—åˆ†äº«çš„ç§‘æŠ€å†…å®¹ï¼Œå‘¨äº”å‘å¸ƒã€‚æœ¬æ‚å¿—å¼€æºï¼Œæ¬¢è¿æŠ•ç¨¿ã€‚ â”‚
â”‚ å¦æœ‰ã€Šè°åœ¨æ‹›äººã€‹æœåŠ¡ï¼Œå‘å¸ƒç¨‹åºå‘˜æ‹›è˜ä¿¡æ¯...                      â”‚
â”‚                                                                  â”‚
â”‚ ğŸ“… å‘å¸ƒæ—¶é—´: 2025-08-16T10:00:00Z                                â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

### 4. çŠ¶æ€æ¶ˆæ¯ç¾åŒ–

**æˆåŠŸæ¶ˆæ¯:**
```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸ‰ è®¢é˜… 'Python å¼€å‘è€…å‘¨åˆŠ' å·²æˆåŠŸä¿å­˜ï¼                         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

**è­¦å‘Šæ¶ˆæ¯:**
```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ âš ï¸  é“¾æ¥å¯èƒ½ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ RSS/Atom æº                            â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

**é”™è¯¯æ¶ˆæ¯:**
```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ âŒ ç½‘ç»œè¯·æ±‚é”™è¯¯ï¼šè¿æ¥è¶…æ—¶                                        â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### 1. HTML å†…å®¹æ¸…ç†ä¼˜åŒ–
```python
def _clean_html(self, text: str) -> str:
    """ä½¿ç”¨ BeautifulSoup æ¸…ç† HTML æ ‡ç­¾ï¼Œä¿ç•™æ–‡æœ¬å†…å®¹"""
    try:
        # ä½¿ç”¨ BeautifulSoup è§£æ HTML
        soup = BeautifulSoup(text, 'html.parser')
        
        # ç§»é™¤ script å’Œ style æ ‡ç­¾
        for script in soup(["script", "style"]):
            script.decompose()
        
        # è·å–çº¯æ–‡æœ¬å¹¶æ¸…ç†ç©ºç™½å­—ç¬¦
        clean_text = soup.get_text()
        clean_text = re.sub(r'\s+', ' ', clean_text)
        clean_text = html.unescape(clean_text)
        
        return clean_text.strip()
    except Exception:
        # å›é€€åˆ°åŸå§‹æ–¹æ³•
        # ... åŸå§‹å®ç°
```

### 2. æ™ºèƒ½æ–‡æœ¬æ¢è¡Œ
```python
# ä½¿ç”¨ textwrap ä¸ºé•¿æ‘˜è¦æ·»åŠ é€‚å½“çš„æ¢è¡Œ
wrapped_summary = textwrap.fill(summary, width=80)
```

### 3. Rich ç»„ä»¶ä½¿ç”¨
```python
# é¢æ¿åˆ›å»º
title_panel = Panel(
    f"[bold cyan]{subscription_name}[/bold cyan] çš„æœ€æ–°æ–‡ç« ",
    style="bright_blue",
    border_style="blue"
)

# è¡¨æ ¼åˆ›å»º
table = Table(title="[bold cyan]ğŸ“š æ‚¨å·²ä¿å­˜çš„è®¢é˜…[/bold cyan]", 
              show_header=True, header_style="bold magenta")
table.add_column("åºå·", style="bold blue", justify="center", width=6)
table.add_column("è®¢é˜…åç§°", style="bold white", min_width=20)
table.add_column("RSS é“¾æ¥", style="dim blue", overflow="fold")
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
demo/
â”œâ”€â”€ demo_enhanced.py      # å®Œæ•´çš„ç¾åŒ–ç‰ˆæœ¬
â”œâ”€â”€ demo_showcase.py      # ç¾åŒ–æ•ˆæœæ¼”ç¤ºè„šæœ¬
â”œâ”€â”€ demo_refactored.py    # åŸå§‹é‡æ„ç‰ˆæœ¬ï¼ˆå·²éƒ¨åˆ†ç¾åŒ–ï¼‰
â””â”€â”€ subscriptions.json    # è®¢é˜…æ•°æ®æ–‡ä»¶
```

## ğŸš€ è¿è¡Œæ–¹å¼

### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 2. è¿è¡Œç¾åŒ–ç‰ˆæœ¬
```bash
python demo/demo_enhanced.py
```

### 3. æŸ¥çœ‹ç¾åŒ–æ•ˆæœæ¼”ç¤º
```bash
python demo/demo_showcase.py
```

## ğŸ“ˆ æ”¹è¿›æ•ˆæœå¯¹æ¯”

| æ–¹é¢ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å |
|------|--------|--------|
| ç•Œé¢ç¾è§‚æ€§ | çº¯æ–‡æœ¬ï¼Œå•è°ƒ | å½©è‰²é¢æ¿ï¼Œå¯Œæ–‡æœ¬ |
| ä¿¡æ¯å±•ç¤º | åˆ—è¡¨å½¢å¼ | è¡¨æ ¼+å¡ç‰‡å¼ |
| æ–‡æœ¬å¤„ç† | ç®€å•æ­£åˆ™ | BeautifulSoup + textwrap |
| é”™è¯¯æç¤º | æ™®é€šæ–‡æœ¬ | å¸¦é¢œè‰²å’Œå›¾æ ‡çš„é¢æ¿ |
| ç”¨æˆ·ä½“éªŒ | åŸºç¡€åŠŸèƒ½ | ä¸°å¯Œçš„è§†è§‰åé¦ˆ |

## ğŸ¨ è®¾è®¡åŸåˆ™

1. **ä¸€è‡´æ€§**: ç»Ÿä¸€çš„é¢œè‰²æ–¹æ¡ˆå’Œæ ·å¼
2. **å¯è¯»æ€§**: æ¸…æ™°çš„æ–‡æœ¬æ¢è¡Œå’Œå¸ƒå±€
3. **ç›´è§‚æ€§**: ä¸°å¯Œçš„å›¾æ ‡å’Œé¢œè‰²ç¼–ç 
4. **å“åº”æ€§**: é€‚åº”ä¸åŒç»ˆç«¯å®½åº¦
5. **å®¹é”™æ€§**: ä¼˜é›…çš„é”™è¯¯å¤„ç†å’Œå›é€€æœºåˆ¶

## ğŸ“‹ ç»“è®º

é€šè¿‡ä½¿ç”¨ Richã€BeautifulSoup4 ç­‰ç¬¬ä¸‰æ–¹åº“ï¼Œæˆ‘ä»¬æˆåŠŸåœ°å°†åŸæœ¬ç®€å•çš„æ–‡æœ¬ç•Œé¢è½¬æ¢ä¸ºç¾è§‚ã€åŠŸèƒ½ä¸°å¯Œçš„ç»ˆç«¯åº”ç”¨ç¨‹åºã€‚è¿™æ¬¡ä¼˜åŒ–ä¸ä»…æå‡äº†ç”¨æˆ·ä½“éªŒï¼Œè¿˜å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ç°ä»£ Python åº“æ¥åˆ›å»ºä¸“ä¸šçº§çš„å‘½ä»¤è¡Œå·¥å…·ã€‚

ä¸»è¦æˆæœï¼š
- âœ… ç•Œé¢ç¾è§‚æ€§å¤§å¹…æå‡
- âœ… HTML å†…å®¹æ¸…ç†æ›´åŠ æ™ºèƒ½
- âœ… æ–‡æœ¬å±•ç¤ºæ›´åŠ ä¼˜é›…
- âœ… é”™è¯¯å’ŒçŠ¶æ€ä¿¡æ¯æ›´åŠ ç›´è§‚
- âœ… æ•´ä½“ç”¨æˆ·ä½“éªŒæ˜¾è‘—æ”¹å–„
